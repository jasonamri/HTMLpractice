<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=utf-8" />
    <title>Login</title>
    <script type="text/javascript">


//cookie functions (created by www.w3schools.com)
function setCookie(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+d.toUTCString();
    document.cookie = cname + "=" + cvalue + "; " + expires;
}

function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1);
        if (c.indexOf(name) == 0) return c.substring(name.length, c.length);
    }
    return "";
}

function checkCookie(cname) {
    var user = getCookie(cname);
    if (user != "") {
        return 1;
    } else {
        return 0;
    }
}


	 //global variables
     var username=document.getElementById("username").value;
     var password=document.getElementById("password").value;
	 //functions:
	 //function to check user and pass
	 function login(){
		//update user and pass and make case insensitive
		username=username.toLowerCase();
        password=password.toLowerCase();
		//check if user and pass works
        if (checkCookie(username)==1) {
			if (username==getCookie('username')&&password==getCookie('password')) {
			    correct();	
			} else {
				incorrect();
			}
		} else {
			alert('User does not exist');
		}
		
      }
	  //function to do if it is correct
	  function correct () {
        window.location.href = "http://www.google.ca";
	  }
	  //function to do if it is incorrect
	  function incorrect () {
	    alert("Invalid login!");
        document.getElementById("password").value='';
	  }
	
	  
	  
    </script>
  </head>
  <body">
    <p>Username:</p>
    <input type="text" name="username" id="username" onKeyDown="if(event.keyCode==13) {login()}" />
    <p>Password:</p>
    <input type="password" id="password" name="password" onKeyDown="if(event.keyCode==13) {login()}" />
    <input type="button" value="Login" onclick="login()" />
  </body>
</html>
